<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Advanced JS</title>
</head>

<body>
  <h1>Advanced JS</h1>

  <script>

    // Lecture: Passing functions as arguments

    /*   var years = [1990, 1965, 1937, 2005, 1998];
  
      function arrayCalc(arr, fn) {
        var arrRes = [];
  
        for (var i = 0; i < arr.length; i++) {
          arrRes.push(fn(arr[i]));
        }
        return arrRes;
      }
  
      function calculateAge(el) {
        return 2016 - el;
      }
  
      function isFullAge(el) {
        return el >= 18;
      }
  
      function maxHeartRate(el) {
        if (el >= 18 && el <= 81) {
          return Math.round(206.9 - (0.67 * el));
        } 
        else {
          return -1;
        }
      }
  
      var ages = arrayCalc(years, calculateAge);
      var fullAges = arrayCalc(ages, isFullAge);
      var rates = arrayCalc(ages, maxHeartRate);
  
      console.log(ages);
      console.log(rates); */


    // Lecture: Functions returning functions

    /* function interviewQuestion(job) {
      if (job === 'designer') {
        return function (name) {
          console.log(name + ', can you please explain what UX design is?');
        }
      } 
      else if (job === 'teacher') {
        return function (name) {
          console.log('What subject do you teach, ' + name + '?');
        }
      } 
      else {
        return function (name) {
          console.log('Hello ' + name + ', what do you do?');
        }
      }
    }

    var teacherQuestion = interviewQuestion('teacher');
    var designerQuestion = interviewQuestion('designer');

    teacherQuestion('John');
    designerQuestion('John');
    designerQuestion('Jane');
    designerQuestion('Mike');

    interviewQuestion('teacher')('Mark'); */

    // Lecture: Bind, call and apply

    var john = {
      name: 'John',
      age: 26,
      job: 'teacher',
      presentation: function (style, timeOfDay) {
        if (style === 'formal') {
          console.log('Good ' + timeOfDay + ', Ladies and gentlemen! I\'m ' + this.name + ', I\'m a ' + this.job + ' and I\'m ' + this.age + ' years old.');
        } 
        else if (style === 'friendly') {
          console.log('Hey! What\'s up? I\'m ' + this.name + ', I\'m a ' + this.job + ' and I\'m ' + this.age + ' years old. Have a nice ' + timeOfDay + '.');
        }
      }
    };

    var emily = {
      name: 'Emily',
      age: 35,
      job: 'designer'
    };

    john.presentation('formal', 'morning');

    john.presentation.call(emily, 'friendly', 'afternoon');

    john.presentation.apply(emily, ['friendly', 'night']);

    var johnFriendly = john.presentation.bind(john, 'friendly');

    johnFriendly('morning');
    johnFriendly('night');

    var emilyFormal = john.presentation.bind(emily, 'formal');
    emilyFormal('afternoon');

  </script>
</body>

</html>